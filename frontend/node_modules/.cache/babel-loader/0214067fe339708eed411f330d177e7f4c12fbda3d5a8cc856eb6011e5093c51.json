{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo2\\\\newdof\\\\frontend\\\\src\\\\components\\\\RaporCalistir.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container, Typography, Table, TableBody, TableCell, TableHead, TableRow, Button } from '@mui/material';\nimport { Bar } from 'react-chartjs-2';\nimport { saveAs } from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RaporCalistir = () => {\n  _s();\n  const [dofs, setDofs] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:5000/api/dofs').then(response => response.json()).then(data => setDofs(data)).catch(error => console.error('Error fetching DOFs:', error));\n  }, []);\n  const handleExportToExcel = () => {\n    const worksheet = XLSX.utils.json_to_sheet(dofs);\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, 'DOFs');\n    const excelBuffer = XLSX.write(workbook, {\n      bookType: 'xlsx',\n      type: 'array'\n    });\n    const data = new Blob([excelBuffer], {\n      type: 'application/octet-stream'\n    });\n    saveAs(data, 'DOF_Raporu.xlsx');\n  };\n  const chartData = {\n    labels: [...new Set(dofs.map(dof => dof.department))],\n    // Departman isimleri\n    datasets: [{\n      label: 'DÖF Sayısı',\n      data: [...new Set(dofs.map(dof => dof.department))].map(department => dofs.filter(dof => dof.department === department).length),\n      backgroundColor: 'rgba(75, 192, 192, 0.6)',\n      borderColor: 'rgba(75, 192, 192, 1)',\n      borderWidth: 1\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Rapor \\xC7al\\u0131\\u015Ft\\u0131r\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      gutterBottom: true,\n      children: \"T\\xFCm D\\xD6F'lerin raporunu a\\u015Fa\\u011F\\u0131daki tablo ve grafik \\xFCzerinden inceleyebilir ve Excel olarak d\\u0131\\u015Fa aktarabilirsiniz.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Konu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Mesaj\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Departman\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Durum\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: dofs.map(dof => /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: dof.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: dof.subject\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: dof.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: dof.department\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: dof.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this)]\n        }, dof.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Bar, {\n        data: chartData,\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'top'\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      style: {\n        marginTop: '20px'\n      },\n      onClick: handleExportToExcel,\n      children: \"Excel Olarak Aktar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(RaporCalistir, \"hg7kEdBSZNhHNSYJ1C0wbLqHcI4=\");\n_c = RaporCalistir;\nexport default RaporCalistir;\nvar _c;\n$RefreshReg$(_c, \"RaporCalistir\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Table","TableBody","TableCell","TableHead","TableRow","Button","Bar","saveAs","XLSX","jsxDEV","_jsxDEV","RaporCalistir","_s","dofs","setDofs","fetch","then","response","json","data","catch","error","console","handleExportToExcel","worksheet","utils","json_to_sheet","workbook","book_new","book_append_sheet","excelBuffer","write","bookType","type","Blob","chartData","labels","Set","map","dof","department","datasets","label","filter","length","backgroundColor","borderColor","borderWidth","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","id","subject","message","status","style","marginTop","options","responsive","plugins","legend","position","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo2/newdof/frontend/src/components/RaporCalistir.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Container, Typography, Table, TableBody, TableCell, TableHead, TableRow, Button } from '@mui/material';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { saveAs } from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\n\r\nconst RaporCalistir = () => {\r\n    const [dofs, setDofs] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetch('http://localhost:5000/api/dofs')\r\n            .then((response) => response.json())\r\n            .then((data) => setDofs(data))\r\n            .catch((error) => console.error('Error fetching DOFs:', error));\r\n    }, []);\r\n\r\n    const handleExportToExcel = () => {\r\n        const worksheet = XLSX.utils.json_to_sheet(dofs);\r\n        const workbook = XLSX.utils.book_new();\r\n        XLSX.utils.book_append_sheet(workbook, worksheet, 'DOFs');\r\n        const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\r\n        const data = new Blob([excelBuffer], { type: 'application/octet-stream' });\r\n        saveAs(data, 'DOF_Raporu.xlsx');\r\n    };\r\n\r\n    const chartData = {\r\n        labels: [...new Set(dofs.map((dof) => dof.department))], // Departman isimleri\r\n        datasets: [\r\n            {\r\n                label: 'DÖF Sayısı',\r\n                data: [...new Set(dofs.map((dof) => dof.department))].map(\r\n                    (department) => dofs.filter((dof) => dof.department === department).length\r\n                ),\r\n                backgroundColor: 'rgba(75, 192, 192, 0.6)',\r\n                borderColor: 'rgba(75, 192, 192, 1)',\r\n                borderWidth: 1,\r\n            },\r\n        ],\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n                Rapor Çalıştır\r\n            </Typography>\r\n            <Typography variant=\"body1\" gutterBottom>\r\n                Tüm DÖF'lerin raporunu aşağıdaki tablo ve grafik üzerinden inceleyebilir ve Excel olarak dışa aktarabilirsiniz.\r\n            </Typography>\r\n\r\n            {/* Tablo */}\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>ID</TableCell>\r\n                        <TableCell>Konu</TableCell>\r\n                        <TableCell>Mesaj</TableCell>\r\n                        <TableCell>Departman</TableCell>\r\n                        <TableCell>Durum</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {dofs.map((dof) => (\r\n                        <TableRow key={dof.id}>\r\n                            <TableCell>{dof.id}</TableCell>\r\n                            <TableCell>{dof.subject}</TableCell>\r\n                            <TableCell>{dof.message}</TableCell>\r\n                            <TableCell>{dof.department}</TableCell>\r\n                            <TableCell>{dof.status}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n\r\n            {/* Grafik */}\r\n            <div style={{ marginTop: '20px' }}>\r\n                <Bar data={chartData} options={{ responsive: true, plugins: { legend: { position: 'top' } } }} />\r\n            </div>\r\n\r\n            {/* Excel'e Aktar */}\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{ marginTop: '20px' }}\r\n                onClick={handleExportToExcel}\r\n            >\r\n                Excel Olarak Aktar\r\n            </Button>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default RaporCalistir;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}